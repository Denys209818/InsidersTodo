"use strict";(self.webpackChunkinsiderstodo=self.webpackChunkinsiderstodo||[]).push([[540],{540:(e,l,t)=>{t.r(l),t.d(l,{default:()=>h});var n=t(706),s=t(87),i=t(43),d=t(579);const o=e=>{let{id:l,title:t,active:o}=e;const a=(0,i.useRef)(null),[r,c]=(0,i.useState)(!1),u=(0,n.j)();return(0,d.jsxs)("li",{className:"\n        border-[#5B8FB9]\n        border \n        rounded-lg \n        p-2 \n        text-white \n        hover:bg-[#5B8FB9] \n        hover:cursor-pointer\n        transition \n        duration-300 \n        ease-in-out\n        ".concat(o?"bg-[#5B8FB9]":void 0,"\n    "),onClick:()=>u(s.D.setActiveTable(l)),onDoubleClick:()=>c(!0),onMouseLeave:()=>r&&c(!1),children:[!r&&(0,d.jsx)("p",{children:t}),r&&(0,d.jsx)("form",{onSubmit:e=>{e.preventDefault(),a.current&&u(s.D.editTable({id:l,newTitle:a.current.value})),c(!1)},children:(0,d.jsx)("input",{ref:a,className:"bg-transparent rounded-lg w-full outline-none border-2 size-full px-2",defaultValue:t})})]})};var a=t(739);const r=e=>{let{id:l,title:t,completed:s}=e;const o=(0,i.useRef)(null),[r,c]=(0,i.useState)(!1),u=(0,n.j)(),h=""===t;return(0,d.jsxs)("div",{className:"grid grid-cols-12 p-4 border border-black rounded-md",children:[(0,d.jsxs)("div",{className:"flex gap-2 col-span-11",children:[(0,d.jsx)("input",{type:"checkbox",checked:s,onChange:()=>{u(a.z.editTodoStatus(l))},className:"size-6"}),(0,d.jsxs)("div",{className:"w-full",onDoubleClick:()=>c(!0),onMouseLeave:()=>r&&c(!1),children:[!r&&!h&&(0,d.jsx)("h3",{children:t}),(r||h)&&(0,d.jsx)("form",{onSubmit:e=>{e.preventDefault(),o.current&&u(a.z.editTodo({id:l,title:o.current.value})),c(!1)},children:(0,d.jsx)("input",{type:"text",defaultValue:t,ref:o,className:"bg-transparent rounded-lg w-full outline-none border-2 size-full px-2"})})]})]}),(0,d.jsx)("div",{className:"block grid-cols-1",children:(0,d.jsx)("button",{className:"text-red-600 uppercase",onClick:()=>{u(a.z.removeTodo(l))},children:"Delete"})})]})};var c=t(457);const u=()=>{const e=(0,n.G)((e=>e.todos)),{activeTable:l}=(0,n.G)((e=>e.tables)),t=(0,n.j)();return(0,i.useEffect)((()=>{t(a.z.setTodos([{id:1,title:"Task 1",completed:!1,tableId:1}]))}),[l]),(0,d.jsxs)("div",{className:"block border border-black h-full-height-with-paddings pt-5 overflow-y-auto px-3",children:[(0,d.jsx)("h1",{className:"text-6xl font-semibold text-center",children:null===l||void 0===l?void 0:l.title}),(0,d.jsx)("button",{className:"\n                block\n                p-4\n                bg-[#03001C]\n                text-white\n                rounded-lg\n                hover:bg-[#301E67]\n                transition \n                duration-300 \n                ease-in-out\n                mt-3\n                mx-auto\n            ",onClick:()=>{l&&t(a.z.addTodo({id:c.a.number.int(),title:"",completed:!1,tableId:l.id}))},children:"Create a task"}),(0,d.jsx)("div",{className:"flex flex-col gap-4 mt-3",children:e.map((e=>(0,d.jsx)(r,{title:e.title,id:e.id,completed:e.completed},e.id)))})]})},h=()=>{const{activeTable:e,tables:l}=(0,n.G)((e=>e.tables)),t=(0,n.j)();return(0,d.jsx)("section",{className:"w-full min-h-full-height",children:(0,d.jsxs)("div",{className:"grid grid-cols-12 gap-x-4",children:[(0,d.jsxs)("div",{className:"sticky top-[64px] block col-span-4 bg-[#301E67] h-full-height",children:[(0,d.jsx)("h4",{className:"block pt-4 px-4 text-white",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446\u044c"}),(0,d.jsxs)("ul",{className:"flex flex-col gap-4 px-4 pt-4 list-none",children:[l.map((l=>(0,d.jsx)(o,{active:e&&e.id===l.id,id:l.id,title:l.title},l.id))),(0,d.jsx)("li",{className:"\n                        border-[#5B8FB9]\n                        border \n                        rounded-lg \n                        p-2 \n                        text-white \n                        hover:bg-[#5B8FB9] \n                        hover:cursor-pointer\n                        transition \n                        duration-300 \n                        ease-in-out\n                    ",onClick:()=>{t(s.D.addTable({id:l.length+1,title:"Table"+(l.length+1)}))},children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044e"})]})]}),(0,d.jsx)("div",{className:"col-span-8 p-4",children:null!==e&&(0,d.jsx)("div",{className:"block px-2",children:(0,d.jsx)(u,{})})})]})})}}}]);
//# sourceMappingURL=540.1323932c.chunk.js.map