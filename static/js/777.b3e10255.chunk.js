"use strict";(self.webpackChunkinsiderstodo=self.webpackChunkinsiderstodo||[]).push([[777],{777:(e,a,n)=>{n.r(a),n.d(a,{default:()=>p});var s=n(379),l=n(580),r=n(579);const t=e=>{let{id:a,type:n="text",label:s,placeholder:l,value:t,onChangeHandler:i,errors:o}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:a,className:"text-black font-medium text-lg",children:s}),(0,r.jsx)("input",{type:n,id:a,name:a,placeholder:l,value:t,onChange:e=>i(e.target.value),className:"\n            block\n            w-full\n            px-2\n            py-3\n            outline-none\n            border\n            border-black  \n            text-lg\n        "}),o&&o.map((e=>e&&e.length>0&&(0,r.jsx)("p",{className:"text-[#A31D1D]",children:e},e)))]})};var i=n(43),o=n(743),d=n(706),c=n(899);const u=(0,c.Ik)().shape({email:(0,c.Yj)().email("\u041d\u0435 \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0430 E-mail").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435!"),name:(0,c.Yj)().required("\u041f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435!"),password:(0,c.Yj)().required().min(6,"\u041f\u0430\u0440\u043e\u043b\u044c \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432")}),m=()=>(0,r.jsx)("div",{className:"\n        absolute\n        left-[-100%]\n        top-[50%]\n        -translate-y-2/4\n        size-8\n    ",children:(0,r.jsx)("div",{className:"loader"})}),p=()=>{const[e,a]=(0,i.useState)(""),[n,c]=(0,i.useState)(""),[p,h]=(0,i.useState)(""),x=(0,l.Zp)(),f=e=>{b[e]&&g((a=>(0,s.A)((0,s.A)({},a),{},{[e]:[]})))};(0,i.useEffect)((()=>{f("name")}),[e]),(0,i.useEffect)((()=>{f("email")}),[n]),(0,i.useEffect)((()=>{f("password")}),[p]);const[b,g]=(0,i.useState)({}),j=(0,d.j)(),{error:w,isLoading:v}=(0,d.G)((e=>e.user)),{authType:N}=(0,l.g)(),{name:k,token:y}=(0,d.G)((e=>e.user));if(k&&y)return(0,r.jsx)(l.C5,{to:"/profile"});if("register"!==N&&"login"!==N)return(0,r.jsx)(l.C5,{to:"/auth/login"});const E="register"===N?"Register":"Login";return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("section",{className:"flex justify-center items-center w-full",children:(0,r.jsxs)("div",{className:"block p-3 border-black rounded-xl w-[50%] bg-[#F5F7F8] overflow-hidden",children:[(0,r.jsx)("h2",{className:"font-semibold uppercase text-3xl text-center",children:E}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("form",{onSubmit:a=>{switch(a.preventDefault(),N){case"login":!async function(){await j((0,o.Hn)({email:n,password:p})),w||x("/profile")}();break;case"register":u.validate({email:n,password:p,name:e},{abortEarly:!1}).then((e=>{!async function(e){await j((0,o.Jj)({name:e.name,email:e.email,password:e.password})),w||x("/profile")}(e)})).catch((e=>{const a={};e.inner.forEach((e=>{e.path&&(a[e.path]=e.errors)})),g(a)}))}},className:"flex flex-col gap-4 w-full mt-4",children:["register"===N&&(0,r.jsx)(t,{value:e,onChangeHandler:e=>a(e),placeholder:"Enter a name",id:"name",label:"Name",errors:b.name}),(0,r.jsx)(t,{value:n,onChangeHandler:e=>c(e),placeholder:"Enter an email",id:"email",label:"Email",errors:b.email}),(0,r.jsx)(t,{value:p,type:"password",onChangeHandler:e=>h(e),placeholder:"Enter a password",id:"password",label:"Password",errors:b.password}),(0,r.jsx)("button",{className:"\n                            relative\n                            block\n                            w-full\n                            outline-none\n                            border\n                            py-4\n                            bg-[#03001C]\n                            text-white\n                            uppercase\n                            transition\n                            duration-300\n                            ease-in-out\n                            hover:bg-[#301E67]\n                            text-lg\n                            font-bold\n                            ",disabled:v,children:(0,r.jsxs)("span",{className:"relative",children:[v&&(0,r.jsx)(m,{})," ",E]})})]}),w&&(0,r.jsx)("pre",{className:"text-[#A31D1D]",children:w})]})]})})})}}}]);
//# sourceMappingURL=777.b3e10255.chunk.js.map